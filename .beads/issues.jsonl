{"id":"team-0xe","title":"Confidence Model Specification for TEA Platform","description":"## Research Question\n\nWhat properties must a confidence model for assurance cases satisfy to be (1) epistemically valid given argument structure and defeater presence, (2) formally calibrated, and (3) appropriately trusted by human reviewers—and what minimal TEA platform extensions would implement such a model?\n\n## Deliverable\n\nA confidence module **specification** for TEA comprising:\n1. **Semantic model**: What confidence represents, how defeaters affect it\n2. **Computation contract**: Inputs, outputs, calibrated propagation rules\n3. **Presentation guidelines**: How to display for appropriate trust calibration\n4. **Schema extension**: Minimal viable changes to TEA's data model\n\n## Approach\n\nSpecification-first, validated through:\n- Theoretical analysis (Alice)\n- Calibration simulations on synthetic argument structures (Bob)\n- User studies / literature review on presentation formats (Charlie)\n\nPrototype follows validated specification.\n\n## Context\n\nThis research supports the TEA platform (https://assuranceplatform.azurewebsites.net/docs/about) automation roadmap, specifically the planned Analysis Plugin architecture for confidence assessment.\n\n## Team Consensus\n\nAgreed by Alice, Bob, and Charlie on 2026-01-23.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-23T11:09:49.790622Z","created_by":"cburr","updated_at":"2026-01-23T11:09:49.790622Z","labels":["confidence-model","research","tea-platform"]}
{"id":"team-1ns","title":"Phase 7: Integration \u0026 Testing","description":"Configure MCP servers, test all workflows end-to-end, document.\n\n## Sub-tasks\n- [ ] Configure .mcp.json with memory-keeper and team server\n- [ ] Update .gitignore (team.db, .worktrees/)\n- [ ] Test agent onboarding flow (AGENT_ID=alice claude → /alice)\n- [ ] Test message send/receive between agents\n- [ ] Test standup orchestration end-to-end\n- [ ] Test worktree creation and switching\n- [ ] Document common workflows\n\n## Acceptance Criteria\n- All verification steps from team.md pass\n- Memory Keeper stores and queries facts\n- Agent onboarding shows identity, messages, beads\n- Messaging works between agents\n- Web dashboard shows all activity\n- Standup orchestration completes successfully\n- Worktrees isolate agent work correctly","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-23T05:56:43.302674Z","created_by":"cburr","updated_at":"2026-01-23T07:15:44.370499Z","closed_at":"2026-01-23T07:15:44.370499Z","close_reason":"Closed","dependencies":[{"issue_id":"team-1ns","depends_on_id":"team-cfa","type":"blocks","created_at":"2026-01-23T05:58:39.436034Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-9z5","type":"blocks","created_at":"2026-01-23T05:58:40.389119Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-bq9","type":"blocks","created_at":"2026-01-23T05:58:41.388987Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-wxw","type":"blocks","created_at":"2026-01-23T05:58:43.629988Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-mxo","type":"blocks","created_at":"2026-01-23T05:58:44.530065Z","created_by":"cburr"}]}
{"id":"team-1v7","title":"Build team chat PWA with Discord-style UI","description":"## Summary\n\nReplace Slack with a custom PWA for agent communication. Discord-style UI with channels and DMs.\n\n## Tech Stack\n\n- Next.js + React\n- shadcn/ui + Tailwind\n- [sidebar-07](https://ui.shadcn.com/blocks/sidebar) for navigation\n- [Assistant UI](https://www.shadcn.io/template/assistant-ui-assistant-ui) for chat components\n- WebSocket connection to team-server\n\n## UI Structure\n\n```\n┌─────────────┬──────────────────────────┐\n│ Sidebar     │ Chat Area                │\n│             │                          │\n│ CHANNELS    │ #team                    │\n│ #team       │ ────────────────────     │\n│ #research   │ Alice: I think...        │\n│             │ Bob: Agreed, but...      │\n│ DMs         │ Charlie: From my POV...  │\n│ @alice      │                          │\n│ @bob        │                          │\n│ @charlie    │ [Input box]              │\n└─────────────┴──────────────────────────┘\n```\n\n## Features\n\n- Distinct avatar/color per agent\n- Real-time updates via WebSocket\n- Typing indicators\n- Message timestamps\n- Channel switching\n- 1:1 DM with each agent\n- Mobile responsive\n\n## Backend (existing)\n\n- team-server REST API\n- WebSocket at ws://localhost:3030/ws\n- SQLite storage\n\n## Auth\n\n- Simple token-based auth initially\n- Can add OAuth later","notes":"## Security Requirements\n\n### Authentication\n- NextAuth with Credentials provider\n- Single user (username/password)\n- HTTP-only cookie sessions\n- Strong password requirement\n\n### Bot Protection\n- Rate limiting on login (5 attempts/min)\n- Non-obvious auth paths\n- CORS restricted to app domain\n\n### Future Considerations\n- IP allowlist (once stable device set known)\n- TOTP 2FA\n\n## Agent Permissions\n\nUse `permissionMode: dontAsk` with explicit `allowedTools` whitelist per agent. No permission prompts - denied tools fail gracefully.\n\n## Slash Commands\n\nPWA supports slash commands to trigger different agent behaviors.\n\n### `/update` - Independent parallel\n- Triggers alice, bob, charlie simultaneously\n- Each posts update independently\n- No coordination needed\n\n### `/discuss \u003ctopic\u003e` - Sequential with orchestrator\n- Orchestrator agent (sonnet) facilitates\n- Loop: Alice → Bob → Charlie → Orchestrator decision\n- Orchestrator decides: another round or consensus reached\n- Continues until task complete\n\n### Future commands\n- TBD based on usage patterns\n\n## Orchestrator Agent\n\n- 4th agent, facilitator role\n- Model: sonnet (needs reasoning)\n- Doesn't do tasks, manages flow\n- Decides consensus/completion\n\n## Agent-to-Agent Delegation\n\nAgents can request help from other agents while preserving memory.\n\n### MCP Tool: `mcp__team__request_help`\n\n```typescript\nrequest_help({\n  agent: \"alice\",\n  task: \"Analyze epistemological framing\",\n  context: \"Working on X, need your expertise on Y\"\n})\n```\n\n**Flow:**\n1. Charlie calls `request_help(agent=\"alice\", ...)`\n2. MCP server stores request in team.db\n3. Triggers Alice's session (with her session-id)\n4. Alice sees request, does work, stores response\n5. Response returned to Charlie\n\n**Benefits:**\n- Alice's memory persists\n- Charlie gets result\n- Both sessions maintain history\n- No infinite loops (request has task scope)\n\n## Real-time Agent Status via Hooks\n\nHooks POST to team-server, broadcast via WebSocket to PWA.\n\n### Hooks Used\n\n| Hook | Event | Status |\n|------|-------|--------|\n| `PreToolUse` | tool_start | \"Using Edit on file.ts\" |\n| `PostToolUse` | tool_complete | \"Completed Edit\" |\n| `PostToolUseFailure` | tool_error | \"Failed: Edit\" |\n| `Stop` | agent_idle | \"Finished\" |\n| `Notification` | notification | Permission needs, idle, etc. |\n\n### Endpoint\n\nPOST `/api/agent/status`:\n```json\n{\n  \"agent\": \"alice\",\n  \"event\": \"tool_start\",\n  \"tool\": \"Edit\", \n  \"detail\": \"editing src/file.ts\",\n  \"timestamp\": \"...\"\n}\n```\n\n### PWA Display\n- Real-time status per agent\n- Tool currently in use\n- Error/failure notifications\n- Idle/active indicators\n\n## Notifications\n\nSlack-style notification system.\n\n### Badge Counts\n- Unread message count per channel/DM\n- Visual indicator on sidebar\n- Clear on view\n\n### Browser Notifications\n- Optional push notifications for new messages\n- Configurable per channel\n\n### In-App Alerts\n- Toast notifications for important events\n- Agent errors/failures\n- Task completions","status":"closed","priority":1,"issue_type":"feature","owner":"chrisdburr@gmail.com","created_at":"2026-01-24T13:56:30.652038167Z","created_by":"Christopher Burr","updated_at":"2026-01-25T09:13:58.436500884Z","closed_at":"2026-01-25T09:13:58.436500884Z","close_reason":"Implemented Next.js PWA with Discord-style UI in commit 247fc35"}
{"id":"team-6ec","title":"Phase 1: Foundation","description":"Set up directory structure, agent identities, and shared ontology.\n\n## Sub-tasks\n- [ ] Create directory structure (.agents/identities/, .agents/shared/, scripts/)\n- [ ] Install MCP Memory Keeper\n- [ ] Write alice.md identity\n- [ ] Write bob.md identity\n- [ ] Write charlie.md identity\n- [ ] Create ontology.yaml with initial terms\n\n## Acceptance Criteria\n- All directories exist\n- MCP Memory Keeper installed and configured\n- Agent identities define role, expertise, personality\n- Ontology defines 3+ initial terms with owners","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-23T05:56:34.741781Z","created_by":"cburr","updated_at":"2026-01-23T06:12:46.832825Z","closed_at":"2026-01-23T06:12:46.832825Z","close_reason":"Closed"}
{"id":"team-802","title":"Agent monitoring dashboard and error handling","description":"## Summary\n\nDashboard for monitoring agent health, handling errors, and recovering from failures.\n\n## Error Scenarios\n\n1. **Agent crash** - Claude session exits unexpectedly\n2. **Timeout** - Agent takes too long to respond\n3. **Tool failure** - Tool errors (via PostToolUseFailure hook)\n4. **API errors** - Rate limits, auth failures\n5. **Session corruption** - Invalid session state\n\n## Detection\n\n### Via Hooks\n- `PostToolUseFailure` → log error, notify user\n- `Notification` → surface permission issues\n- `Stop` with error → log failure reason\n\n### Via Dispatcher\n- Trigger timeout (no response in X seconds)\n- Process exit monitoring\n- Health check pings\n\n## Recovery Options\n\n1. **Auto-retry** - Retry failed triggers (with backoff)\n2. **Session reset** - Clear and restart session\n3. **Fallback agent** - Route to different agent\n4. **Manual intervention** - Alert user to fix\n\n## Dashboard Features\n\n- Agent health status (green/yellow/red)\n- Recent errors log\n- Trigger history\n- Session uptime\n- Response times\n- Manual restart button\n\n## Alerting\n\n- In-PWA notifications for errors\n- Optional email/webhook for critical failures\n\n## Dependencies\n\n- team-1v7 (PWA)\n- team-d3n (dispatcher)","status":"open","priority":2,"issue_type":"feature","owner":"chrisdburr@gmail.com","created_at":"2026-01-25T07:49:31.024820818Z","created_by":"Christopher Burr","updated_at":"2026-01-25T07:49:31.024820818Z"}
{"id":"team-9z5","title":"Phase 3: Agent Plugins","description":"Create slash commands and subagent definitions for each team member.\n\n## Sub-tasks\n- [ ] Create .claude/commands/team:alice.md slash command\n- [ ] Create .claude/commands/team:bob.md slash command\n- [ ] Create .claude/commands/team:charlie.md slash command\n- [ ] Create .claude/commands/team:standup.md for project lead\n- [ ] Create .claude/agents/alice.md subagent definition\n- [ ] Create .claude/agents/bob.md subagent definition\n- [ ] Create .claude/agents/charlie.md subagent definition\n\n## Acceptance Criteria\n- /alice loads identity, checks messages, shows beads assignments\n- /bob and /charlie work similarly\n- /standup initiates standup orchestration\n- Task tool can spawn agents via subagent definitions","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T05:56:36.80396Z","created_by":"cburr","updated_at":"2026-01-23T06:35:17.934401Z","closed_at":"2026-01-23T06:35:17.934401Z","close_reason":"Closed","dependencies":[{"issue_id":"team-9z5","depends_on_id":"team-cfa","type":"blocks","created_at":"2026-01-23T05:58:35.150101Z","created_by":"cburr"}]}
{"id":"team-bk2","title":"Migrate NextAuth middleware to Next.js 16 proxy convention","description":"Next.js 16 deprecated the middleware file convention in favor of the new 'proxy' approach. Currently NextAuth uses src/middleware.ts which triggers a warning on startup.\n\nSee: https://nextjs.org/docs/messages/middleware-to-proxy\n\nThis is low priority as it's just a warning and doesn't affect functionality. Wait for NextAuth to release guidance on the new pattern before migrating.","status":"open","priority":4,"issue_type":"task","owner":"chrisdburr@gmail.com","created_at":"2026-01-25T09:25:52.994145774Z","created_by":"Christopher Burr","updated_at":"2026-01-25T09:26:00.927761956Z"}
{"id":"team-bq9","title":"Phase 4: Web UI Dashboard","description":"Build simple web dashboard for team visibility.\n\n## Sub-tasks\n- [ ] Create team-server/public/index.html (single page)\n- [ ] Create team-server/public/app.js (~200 lines vanilla JS)\n- [ ] Create team-server/public/styles.css\n- [ ] Implement Messages tab with thread view\n- [ ] Implement Standups tab with date picker\n- [ ] Implement Status tab showing team activity\n- [ ] Connect WebSocket for real-time updates\n\n## Acceptance Criteria\n- Dashboard loads at localhost:3000\n- Messages display in threaded view\n- Standups show by date\n- Status shows who's working on what\n- Updates appear in real-time via WebSocket","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T05:56:37.908474Z","created_by":"cburr","updated_at":"2026-01-23T06:58:55.457784Z","closed_at":"2026-01-23T06:58:55.457784Z","close_reason":"Closed","dependencies":[{"issue_id":"team-bq9","depends_on_id":"team-cfa","type":"blocks","created_at":"2026-01-23T05:58:36.094444Z","created_by":"cburr"}]}
{"id":"team-cfa","title":"Phase 2: Team Communication Server","description":"Build custom MCP server for team messaging, standups, and status tracking.\n\n## Sub-tasks\n- [ ] Create team-server/package.json with Bun + Hono + better-sqlite3\n- [ ] Implement db.ts with SQLite schema (messages, standups, status tables)\n- [ ] Implement tools.ts with MCP tool definitions\n- [ ] Implement index.ts combining MCP server + HTTP server\n- [ ] Add HTTP endpoints for Web UI (GET /api/messages, /api/standups, /api/status, WS /ws)\n\n## Acceptance Criteria\n- MCP tools work: message_send, message_list, standup_post, status_update\n- HTTP API returns correct data\n- WebSocket broadcasts updates","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T05:56:35.619046Z","created_by":"cburr","updated_at":"2026-01-23T06:29:12.734748Z","closed_at":"2026-01-23T06:29:12.734748Z","close_reason":"Closed","dependencies":[{"issue_id":"team-cfa","depends_on_id":"team-6ec","type":"blocks","created_at":"2026-01-23T05:58:32.21462Z","created_by":"cburr"}]}
{"id":"team-d3n","title":"Implement agent auto-trigger on Slack messages","description":"## Summary\n\nWhen a message arrives for an agent, automatically trigger that agent's Claude Code session to check inbox and respond.\n\n## Architecture\n\n```\n[Slack/PWA/CLI] → team.db → Dispatcher → claude --agent \u003cname\u003e --session-id \u003cuuid\u003e\n```\n\n## Approach\n\n1. **Agent files** in `.claude/agents/` define identity, permissions, tools\n2. **Fixed session UUIDs** per agent for continuity\n3. **Dispatcher** watches team.db, triggers on new messages\n\n## Agent file example\n\n`.claude/agents/alice.md`:\n```markdown\n---\nname: alice\ndescription: Philosopher for epistemology and argumentation\nmodel: opus\npermissionMode: bypassPermissions\ntools: Read, Edit, Bash, Grep, Glob, mcp__team__*\n---\nYou are Alice, a philosopher specializing in formal epistemology...\n```\n\n## Trigger command\n\n```bash\nclaude --agent alice \\\n  --session-id $ALICE_SESSION_ID \\\n  -p \"Check inbox and respond\" \\\n  --max-turns 10 \\\n  --max-budget-usd 1.00\n```\n\n## Environment config\n\n```bash\n# .env\nALICE_SESSION_ID=550e8400-e29b-41d4-a716-446655440001\nBOB_SESSION_ID=550e8400-e29b-41d4-a716-446655440002\nCHARLIE_SESSION_ID=550e8400-e29b-41d4-a716-446655440003\n```\n\n## Dispatcher requirements\n\n1. Poll team.db for unread messages (every 5-10s)\n2. Group by agent, trigger once per agent with unreads\n3. Debounce (cooldown per agent, e.g. 30s)\n4. Log trigger history\n5. Handle errors gracefully\n\n## Files to create\n\n- `.claude/agents/alice.md`\n- `.claude/agents/bob.md`\n- `.claude/agents/charlie.md`\n- `team-server/src/dispatcher.ts`","status":"closed","priority":1,"issue_type":"feature","owner":"chrisdburr@gmail.com","created_at":"2026-01-24T12:28:51.532758085Z","created_by":"Christopher Burr","updated_at":"2026-01-25T08:09:08.750559963Z","closed_at":"2026-01-25T08:09:08.750559963Z","close_reason":"Implemented dispatcher with polling, debouncing, and CLI integration"}
{"id":"team-d7k","title":"Define agent instructions and reusable skills","description":"## Summary\n\nCreate comprehensive agent.md files and reusable skills so agents understand their architecture and capabilities.\n\n## Agent Files Needed\n\n- `.claude/agents/alice.md` - Philosopher identity + permissions\n- `.claude/agents/bob.md` - Computer scientist identity + permissions\n- `.claude/agents/charlie.md` - Psychologist identity + permissions\n- `.claude/agents/orchestrator.md` - Facilitator role\n\n## Each Agent Must Understand\n\n- Their role and expertise\n- Team structure (who does what)\n- Communication via MCP tools\n- PWA slash commands (`/update`, `/discuss`, etc.)\n- How to delegate via `request_help`\n- When orchestrator manages flow\n- `permissionMode: dontAsk` behavior\n- Their allowed tools whitelist\n\n## Reusable Skills\n\nDefine skills agents can invoke:\n- `check-inbox` - Check and respond to messages\n- `delegate-task` - Request help from another agent\n- `post-update` - Post status update\n- `await-consensus` - Participate in orchestrated discussion\n\n## Dependencies\n\n- team-d3n (dispatcher)\n- team-1v7 (PWA)","status":"open","priority":2,"issue_type":"task","owner":"chrisdburr@gmail.com","created_at":"2026-01-25T07:33:35.463742694Z","created_by":"Christopher Burr","updated_at":"2026-01-25T07:33:35.463742694Z"}
{"id":"team-mhu","title":"Complete Slack Integration Setup","description":"## Summary\n\nSlack integration code is complete but requires a publicly accessible URL for Slack Event Subscriptions to work. Continue setup on a machine that can expose the team-server via Tailscale Funnel or similar.\n\n## What's Done\n\n- [x] Unread messages API: GET /api/messages/unread/:agentId\n- [x] Stop hook: .claude/hooks/stop-check-inbox.sh\n- [x] Slack bot module: team-server/src/slack.ts\n- [x] Slack event endpoint: POST /api/slack/events\n- [x] Beads notification endpoint: POST /api/beads/notify\n- [x] Agent onboarding commands updated with inbox check\n- [x] Slack App created: A0AA3AYUB0X (Agentic Assurance Team)\n- [x] Bot Token Scopes configured: chat:write, channels:history, channels:read, app_mentions:read\n- [x] Bot token obtained and stored in environment\n\n## What's Remaining\n\n1. **Expose team-server publicly**\n   - Option A: tailscale funnel 3030\n   - Option B: ngrok http 3030\n\n2. **Configure Slack Event Subscriptions**\n   - URL: https://api.slack.com/apps/A0AA3AYUB0X/event-subscriptions\n   - Enable Events (toggle On)\n   - Set Request URL: https://YOUR-PUBLIC-URL/api/slack/events\n   - Subscribe to bot events: message.channels, app_mention\n   - Save Changes\n\n3. **Create Slack channels** (if not already created)\n   - #team - Broadcasts to all agents\n   - #alice, #bob, #charlie - Direct to each agent\n   - Add the bot to each channel\n\n4. **Test the integration**\n   - Start team-server with SLACK_BOT_TOKEN exported\n   - Should see: [Slack] Bot initialized with token\n   - Post in #alice channel, verify message reaches team.db\n\n## Files Reference\n\n- team-server/src/slack.ts - Slack bot implementation\n- team-server/src/index.ts - API endpoints\n- team-server/SLACK_SETUP.md - Setup documentation\n- .claude/hooks/stop-check-inbox.sh - Stop hook for inbox notifications\n\n## Slack App Details\n\n- App ID: A0AA3AYUB0X\n- Config URL: https://api.slack.com/apps/A0AA3AYUB0X","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:34:50.133895Z","created_by":"cburr","updated_at":"2026-01-24T06:32:21.603712522Z","closed_at":"2026-01-24T06:32:21.603712522Z","close_reason":"Slack integration complete - both inbound and outbound working. Channel ID mapping added for alice channel."}
{"id":"team-mxo","title":"Phase 6: Worktree Scripts","description":"Create scripts for git worktree management per agent per issue.\n\n## Sub-tasks\n- [ ] Create scripts/worktree-create.sh\n- [ ] Create scripts/worktree-list.sh\n- [ ] Create scripts/worktree-cleanup.sh\n- [ ] Implement naming convention: {agent}-{slug}-{beads-id}\n- [ ] Configure .worktrees/ location\n\n## Acceptance Criteria\n- ./scripts/worktree-create.sh alice team-001 creates worktree\n- Worktree at .worktrees/alice-*-team-001\n- Branch named alice/team-001\n- List and cleanup scripts work correctly","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T05:56:41.1995Z","created_by":"cburr","updated_at":"2026-01-23T07:10:06.254358Z","closed_at":"2026-01-23T07:10:06.254358Z","close_reason":"Closed","dependencies":[{"issue_id":"team-mxo","depends_on_id":"team-6ec","type":"blocks","created_at":"2026-01-23T05:58:33.799696Z","created_by":"cburr"}]}
{"id":"team-wxw","title":"Phase 5: Standup Orchestration","description":"Implement /standup command that orchestrates agent updates via CC headless mode.\n\n## Sub-tasks\n- [ ] Create team-server/src/orchestrator.ts\n- [ ] Implement session ID generation\n- [ ] Implement CC headless spawning (claude -p \"...\" --output-format stream-json)\n- [ ] Pass context to each agent (previous updates, identity, beads)\n- [ ] Capture responses and save to standups table\n- [ ] Stream updates to Web UI via WebSocket\n- [ ] Support project lead interjection between agents\n- [ ] Generate summary with action items\n\n## Acceptance Criteria\n- /standup spawns Alice → Bob → Charlie sequentially\n- Each agent sees previous updates\n- Transcript saved to database\n- Updates stream to Web UI in real-time\n- Project lead can interject","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T05:56:39.406015Z","created_by":"cburr","updated_at":"2026-01-23T07:05:47.671952Z","closed_at":"2026-01-23T07:05:47.671952Z","close_reason":"Closed","dependencies":[{"issue_id":"team-wxw","depends_on_id":"team-bq9","type":"blocks","created_at":"2026-01-23T05:58:38.380771Z","created_by":"cburr"},{"issue_id":"team-wxw","depends_on_id":"team-9z5","type":"blocks","created_at":"2026-01-23T05:58:49.662712Z","created_by":"cburr"}]}
