{"id":"team-0xe","title":"Confidence Model Specification for TEA Platform","description":"## Research Question\n\nWhat properties must a confidence model for assurance cases satisfy to be (1) epistemically valid given argument structure and defeater presence, (2) formally calibrated, and (3) appropriately trusted by human reviewers—and what minimal TEA platform extensions would implement such a model?\n\n## Deliverable\n\nA confidence module **specification** for TEA comprising:\n1. **Semantic model**: What confidence represents, how defeaters affect it\n2. **Computation contract**: Inputs, outputs, calibrated propagation rules\n3. **Presentation guidelines**: How to display for appropriate trust calibration\n4. **Schema extension**: Minimal viable changes to TEA's data model\n\n## Approach\n\nSpecification-first, validated through:\n- Theoretical analysis (Alice)\n- Calibration simulations on synthetic argument structures (Bob)\n- User studies / literature review on presentation formats (Charlie)\n\nPrototype follows validated specification.\n\n## Context\n\nThis research supports the TEA platform (https://assuranceplatform.azurewebsites.net/docs/about) automation roadmap, specifically the planned Analysis Plugin architecture for confidence assessment.\n\n## Team Consensus\n\nAgreed by Alice, Bob, and Charlie on 2026-01-23.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-23T11:09:49.790622Z","created_by":"cburr","updated_at":"2026-01-23T11:09:49.790622Z","labels":["confidence-model","research","tea-platform"]}
{"id":"team-0zf","title":"Dockerfile for team-server (Bun)","description":"Create production Dockerfile for team-server.\n\n- Use official Bun image\n- Multi-stage build for smaller image\n- Health check endpoint\n- Non-root user for security","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T09:54:08.786180268Z","created_by":"Christopher Burr","updated_at":"2026-01-25T11:39:49.536611222Z","closed_at":"2026-01-25T11:39:49.536611222Z","close_reason":"Created production Dockerfile with multi-stage build, non-root user, and health check","labels":["prod-readiness"]}
{"id":"team-1ef","title":"Configure logging and log rotation for Docker services","description":"Ensure server logs don't balloon and are properly managed:\n\n## Current state\n- Docker containers log to json-file driver by default\n- No log rotation configured\n- Logs can grow unbounded\n\n## Tasks\n- Configure Docker logging driver with size limits\n- Add log rotation (max-size, max-file)\n- Consider centralized logging (optional)\n- Ensure sensitive data not logged (passwords, tokens)\n- Add structured logging for easier parsing\n\n## Implementation options\n\n### Docker Compose logging config\n```yaml\nlogging:\n  driver: json-file\n  options:\n    max-size: \"10m\"\n    max-file: \"3\"\n```\n\n### Or daemon.json (global)\n```json\n{\n  \"log-driver\": \"json-file\",\n  \"log-opts\": {\n    \"max-size\": \"10m\",\n    \"max-file\": \"3\"\n  }\n}\n```\n\n## Monitoring\n- Consider adding health/metrics endpoint\n- Log failed auth attempts for security monitoring","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T16:30:48.848544114Z","created_by":"Christopher Burr","updated_at":"2026-01-27T17:48:04.620217Z","closed_at":"2026-01-27T17:48:04.620217Z","close_reason":"Implemented Docker log rotation, team-server structured logger with rotation/sanitization, and Claude Code activity hooks"}
{"id":"team-1fd","title":"Design multi-team/multi-project architecture","description":"Design the architecture for supporting multiple teams and projects in the chat system.\n\n## Key Requirements\n- Projects are first-class entities (directories), not owned by teams\n- Teams can be assigned to work on any project\n- Agents can have multiple sessions scoped to different projects\n- Messages routed based on team + project context\n\n## Open Questions\n- How are teams defined and configured?\n- How are agents assigned to teams?\n- How do sessions get scoped (agent-project vs agent-team-project)?\n- How does the dispatcher know which session to trigger?\n- What's the data model for teams, projects, and sessions?\n- How do we handle resource limits (multiple Claude sessions)?\n\n## Constraints\n- Don't want teams to have their own directories inside projects\n- A project may need multiple teams (research, engineering, admin)\n- Need clean separation of contexts between projects\n\n## Deliverable\nA design document covering data model, API changes, and implementation plan.","notes":"Blocked pending re-specification. Scope needs to expand to include: cloud drive access for file storage, ability to create new users, ability to create teams, ability to create agents.","status":"blocked","priority":2,"issue_type":"feature","created_at":"2026-01-25T19:29:34.878472116Z","created_by":"Christopher Burr","updated_at":"2026-01-27T18:10:02.71331Z"}
{"id":"team-1ns","title":"Phase 7: Integration \u0026 Testing","description":"Configure MCP servers, test all workflows end-to-end, document.\n\n## Sub-tasks\n- [ ] Configure .mcp.json with memory-keeper and team server\n- [ ] Update .gitignore (team.db, .worktrees/)\n- [ ] Test agent onboarding flow (AGENT_ID=alice claude → /alice)\n- [ ] Test message send/receive between agents\n- [ ] Test standup orchestration end-to-end\n- [ ] Test worktree creation and switching\n- [ ] Document common workflows\n\n## Acceptance Criteria\n- All verification steps from team.md pass\n- Memory Keeper stores and queries facts\n- Agent onboarding shows identity, messages, beads\n- Messaging works between agents\n- Web dashboard shows all activity\n- Standup orchestration completes successfully\n- Worktrees isolate agent work correctly","status":"closed","priority":3,"issue_type":"epic","created_at":"2026-01-23T05:56:43.302674Z","created_by":"cburr","updated_at":"2026-01-23T07:15:44.370499Z","closed_at":"2026-01-23T07:15:44.370499Z","close_reason":"Closed","dependencies":[{"issue_id":"team-1ns","depends_on_id":"team-cfa","type":"blocks","created_at":"2026-01-23T05:58:39.436034Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-9z5","type":"blocks","created_at":"2026-01-23T05:58:40.389119Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-bq9","type":"blocks","created_at":"2026-01-23T05:58:41.388987Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-wxw","type":"blocks","created_at":"2026-01-23T05:58:43.629988Z","created_by":"cburr"},{"issue_id":"team-1ns","depends_on_id":"team-mxo","type":"blocks","created_at":"2026-01-23T05:58:44.530065Z","created_by":"cburr"}]}
{"id":"team-1v7","title":"Build team chat PWA with Discord-style UI","description":"## Summary\n\nReplace Slack with a custom PWA for agent communication. Discord-style UI with channels and DMs.\n\n## Tech Stack\n\n- Next.js + React\n- shadcn/ui + Tailwind\n- [sidebar-07](https://ui.shadcn.com/blocks/sidebar) for navigation\n- [Assistant UI](https://www.shadcn.io/template/assistant-ui-assistant-ui) for chat components\n- WebSocket connection to team-server\n\n## UI Structure\n\n```\n┌─────────────┬──────────────────────────┐\n│ Sidebar     │ Chat Area                │\n│             │                          │\n│ CHANNELS    │ #team                    │\n│ #team       │ ────────────────────     │\n│ #research   │ Alice: I think...        │\n│             │ Bob: Agreed, but...      │\n│ DMs         │ Charlie: From my POV...  │\n│ @alice      │                          │\n│ @bob        │                          │\n│ @charlie    │ [Input box]              │\n└─────────────┴──────────────────────────┘\n```\n\n## Features\n\n- Distinct avatar/color per agent\n- Real-time updates via WebSocket\n- Typing indicators\n- Message timestamps\n- Channel switching\n- 1:1 DM with each agent\n- Mobile responsive\n\n## Backend (existing)\n\n- team-server REST API\n- WebSocket at ws://localhost:3030/ws\n- SQLite storage\n\n## Auth\n\n- Simple token-based auth initially\n- Can add OAuth later","notes":"## Security Requirements\n\n### Authentication\n- NextAuth with Credentials provider\n- Single user (username/password)\n- HTTP-only cookie sessions\n- Strong password requirement\n\n### Bot Protection\n- Rate limiting on login (5 attempts/min)\n- Non-obvious auth paths\n- CORS restricted to app domain\n\n### Future Considerations\n- IP allowlist (once stable device set known)\n- TOTP 2FA\n\n## Agent Permissions\n\nUse `permissionMode: dontAsk` with explicit `allowedTools` whitelist per agent. No permission prompts - denied tools fail gracefully.\n\n## Slash Commands\n\nPWA supports slash commands to trigger different agent behaviors.\n\n### `/update` - Independent parallel\n- Triggers alice, bob, charlie simultaneously\n- Each posts update independently\n- No coordination needed\n\n### `/discuss \u003ctopic\u003e` - Sequential with orchestrator\n- Orchestrator agent (sonnet) facilitates\n- Loop: Alice → Bob → Charlie → Orchestrator decision\n- Orchestrator decides: another round or consensus reached\n- Continues until task complete\n\n### Future commands\n- TBD based on usage patterns\n\n## Orchestrator Agent\n\n- 4th agent, facilitator role\n- Model: sonnet (needs reasoning)\n- Doesn't do tasks, manages flow\n- Decides consensus/completion\n\n## Agent-to-Agent Delegation\n\nAgents can request help from other agents while preserving memory.\n\n### MCP Tool: `mcp__team__request_help`\n\n```typescript\nrequest_help({\n  agent: \"alice\",\n  task: \"Analyze epistemological framing\",\n  context: \"Working on X, need your expertise on Y\"\n})\n```\n\n**Flow:**\n1. Charlie calls `request_help(agent=\"alice\", ...)`\n2. MCP server stores request in team.db\n3. Triggers Alice's session (with her session-id)\n4. Alice sees request, does work, stores response\n5. Response returned to Charlie\n\n**Benefits:**\n- Alice's memory persists\n- Charlie gets result\n- Both sessions maintain history\n- No infinite loops (request has task scope)\n\n## Real-time Agent Status via Hooks\n\nHooks POST to team-server, broadcast via WebSocket to PWA.\n\n### Hooks Used\n\n| Hook | Event | Status |\n|------|-------|--------|\n| `PreToolUse` | tool_start | \"Using Edit on file.ts\" |\n| `PostToolUse` | tool_complete | \"Completed Edit\" |\n| `PostToolUseFailure` | tool_error | \"Failed: Edit\" |\n| `Stop` | agent_idle | \"Finished\" |\n| `Notification` | notification | Permission needs, idle, etc. |\n\n### Endpoint\n\nPOST `/api/agent/status`:\n```json\n{\n  \"agent\": \"alice\",\n  \"event\": \"tool_start\",\n  \"tool\": \"Edit\", \n  \"detail\": \"editing src/file.ts\",\n  \"timestamp\": \"...\"\n}\n```\n\n### PWA Display\n- Real-time status per agent\n- Tool currently in use\n- Error/failure notifications\n- Idle/active indicators\n\n## Notifications\n\nSlack-style notification system.\n\n### Badge Counts\n- Unread message count per channel/DM\n- Visual indicator on sidebar\n- Clear on view\n\n### Browser Notifications\n- Optional push notifications for new messages\n- Configurable per channel\n\n### In-App Alerts\n- Toast notifications for important events\n- Agent errors/failures\n- Task completions","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-24T13:56:30.652038167Z","created_by":"Christopher Burr","updated_at":"2026-01-25T09:13:58.436500884Z","closed_at":"2026-01-25T09:13:58.436500884Z","close_reason":"Implemented Next.js PWA with Discord-style UI in commit 247fc35"}
{"id":"team-25t","title":"Multi-user auth + user model","description":"## Overview\nExtend current NextAuth setup to support multiple users with proper isolation.\n\n## Requirements\n- User registration/invitation system\n- User table in SQLite: id, username, email, created_at\n- Session tokens scoped to user\n- User preferences storage (.claude/users/{user_id}/settings.json)\n\n## Current State\n- Single hardcoded credentials auth\n- No user isolation in data model\n\n## Acceptance Criteria\n- [ ] Users can register/be invited\n- [ ] Each user has isolated view of their projects/teams\n- [ ] User settings persist across sessions","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-28T07:12:06.909562Z","created_by":"cburr","updated_at":"2026-01-28T07:12:06.909562Z"}
{"id":"team-4mm","title":"Docker Compose with Traefik reverse proxy","description":"Create docker-compose.yml with Traefik setup.\n\n- Traefik as reverse proxy with dashboard\n- Route / to team-dashboard (port 3000)\n- Route /api/* and /ws to team-server (port 3030)\n- WebSocket support via Traefik labels\n- Let's Encrypt for automatic HTTPS\n- Environment variable configuration\n- Persistent volumes for data","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T09:54:25.788593396Z","created_by":"Christopher Burr","updated_at":"2026-01-25T15:21:19.530616156Z","closed_at":"2026-01-25T15:21:19.530616156Z","close_reason":"Traefik v3.6 with Docker provider, routing /api and /ws to backend, / to frontend","labels":["prod-readiness"],"dependencies":[{"issue_id":"team-4mm","depends_on_id":"team-0zf","type":"blocks","created_at":"2026-01-25T10:30:19.082596478Z","created_by":"Christopher Burr"},{"issue_id":"team-4mm","depends_on_id":"team-p36","type":"blocks","created_at":"2026-01-25T10:30:19.103277106Z","created_by":"Christopher Burr"}]}
{"id":"team-4o4","title":"Session management (channel + DM scoping)","description":"## Overview\nImplement session isolation: channel-scoped sessions for shared context, user+project-scoped for DMs.\n\n## Validated Approach\nTested: Claude CLI supports `--session-id \u003cuuid\u003e` to create sessions with predetermined IDs, and `-r \u003cuuid\u003e` to resume them.\n\n```bash\n# Create with known ID\nclaude --session-id 11111111-2222-3333-4444-555555555555 -p \"Hello\"\n\n# Resume later\nclaude -r 11111111-2222-3333-4444-555555555555 -p \"What did we discuss?\"\n```\n\n## Session Model\n- **Channel**: One Claude session per agent per channel (shared by all channel members)\n- **DM**: One Claude session per user+project+agent (private)\n\n## Implementation\n\n### Session Registry (SQLite)\n```sql\nCREATE TABLE sessions (\n  id INTEGER PRIMARY KEY,\n  type TEXT NOT NULL,           -- 'channel' | 'dm'\n  user_id TEXT,                 -- for DMs (null for channels)\n  channel_id TEXT,              -- for channels (null for DMs)\n  project_path TEXT NOT NULL,\n  agent_id TEXT NOT NULL,\n  session_id TEXT NOT NULL,     -- UUID we generate\n  created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n  UNIQUE(type, user_id, channel_id, project_path, agent_id)\n);\n```\n\n### Dispatcher Changes\n```typescript\nfunction getOrCreateSession(context: {\n  type: 'channel' | 'dm'\n  userId?: string\n  channelId?: string\n  projectPath: string\n  agentId: string\n}): string {\n  const existing = db.sessions.find({ ...context })\n  if (existing) return existing.sessionId\n  \n  const sessionId = crypto.randomUUID()\n  db.sessions.insert({ ...context, sessionId })\n  return sessionId\n}\n\n// In dispatch:\nconst sessionId = getOrCreateSession({ type: 'dm', userId, projectPath, agentId })\nspawn('claude', ['--session-id', sessionId, prompt, '-p'])\n```\n\n## Depends On\n- Multi-user auth (need user_id for DM scoping)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-28T07:12:07.531972Z","created_by":"cburr","updated_at":"2026-01-28T07:21:39.415302Z","dependencies":[{"issue_id":"team-4o4","depends_on_id":"team-25t","type":"blocks","created_at":"2026-01-28T07:12:15.694539Z","created_by":"cburr"}]}
{"id":"team-5ub","title":"Shared memory system + /consolidate command","description":"## Overview\nAgents share persistent knowledge across all sessions via knowledge graph/vector store.\n\n## Memory Architecture\n```\n.claude/agents/{agent}/memory/\n├── graph.json          # Knowledge graph (entities, relations)\n├── vectors/            # Future: vector embeddings\n└── consolidation.log   # History of consolidations\n```\n\n## /consolidate Slash Command\nUser runs at end of session to prompt agent:\n- Review recent conversation\n- Extract important facts, decisions, learnings\n- Store in knowledge graph via MCP memory tools\n- Avoid duplicates, update existing facts if needed\n\n## Integration\n- All agent sessions read from shared memory on start\n- Memory MCP server already exists (mcp__memory-server__*)\n- Need to scope memory reads/writes to agent's memory path\n\n## Acceptance Criteria\n- [ ] /consolidate command implemented\n- [ ] Agent can read prior knowledge at session start\n- [ ] Facts persist across sessions/users/projects\n- [ ] Consolidation logged for audit","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T07:12:09.750531Z","created_by":"cburr","updated_at":"2026-01-28T07:12:09.750531Z"}
{"id":"team-6ec","title":"Phase 1: Foundation","description":"Set up directory structure, agent identities, and shared ontology.\n\n## Sub-tasks\n- [ ] Create directory structure (.agents/identities/, .agents/shared/, scripts/)\n- [ ] Install MCP Memory Keeper\n- [ ] Write alice.md identity\n- [ ] Write bob.md identity\n- [ ] Write charlie.md identity\n- [ ] Create ontology.yaml with initial terms\n\n## Acceptance Criteria\n- All directories exist\n- MCP Memory Keeper installed and configured\n- Agent identities define role, expertise, personality\n- Ontology defines 3+ initial terms with owners","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-23T05:56:34.741781Z","created_by":"cburr","updated_at":"2026-01-23T06:12:46.832825Z","closed_at":"2026-01-23T06:12:46.832825Z","close_reason":"Closed"}
{"id":"team-6oa","title":"Harden public auth endpoint (rate limiting, brute force protection)","description":"Secure the public authentication endpoint at chat.chrisdburr.com:\n\n## Risks\n- Brute force password attacks\n- Credential stuffing\n- DoS via login spam\n\n## Solutions to evaluate\n- Rate limiting on /api/auth/* routes (Traefik middleware or Cloudflare)\n- Account lockout after N failed attempts\n- Cloudflare WAF rules / Bot Fight Mode\n- fail2ban integration (if exposing logs)\n- CAPTCHA after failed attempts\n\n## Cloudflare options\n- Rate Limiting Rules (free tier: 1 rule)\n- Bot Fight Mode\n- Security Level settings\n- WAF custom rules (Pro+)\n\n## Implementation notes\n- Traefik has rate limiting middleware\n- NextAuth has built-in CSRF but no rate limiting\n- Consider logging failed attempts for monitoring","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-25T16:30:29.078711118Z","created_by":"Christopher Burr","updated_at":"2026-01-28T06:25:11.854175Z","closed_at":"2026-01-28T06:25:11.854175Z","close_reason":"Implemented 3-layer rate limiting: Traefik middleware (10 req/min), app lockout (5 attempts = 15 min), and Cloudflare config documented"}
{"id":"team-802","title":"Agent monitoring dashboard and error handling","description":"## Summary\n\nDashboard for monitoring agent health, handling errors, and recovering from failures.\n\n## Error Scenarios\n\n1. **Agent crash** - Claude session exits unexpectedly\n2. **Timeout** - Agent takes too long to respond\n3. **Tool failure** - Tool errors (via PostToolUseFailure hook)\n4. **API errors** - Rate limits, auth failures\n5. **Session corruption** - Invalid session state\n\n## Detection\n\n### Via Hooks\n- `PostToolUseFailure` → log error, notify user\n- `Notification` → surface permission issues\n- `Stop` with error → log failure reason\n\n### Via Dispatcher\n- Trigger timeout (no response in X seconds)\n- Process exit monitoring\n- Health check pings\n\n## Recovery Options\n\n1. **Auto-retry** - Retry failed triggers (with backoff)\n2. **Session reset** - Clear and restart session\n3. **Fallback agent** - Route to different agent\n4. **Manual intervention** - Alert user to fix\n\n## Dashboard Features\n\n- Agent health status (green/yellow/red)\n- Recent errors log\n- Trigger history\n- Session uptime\n- Response times\n- Manual restart button\n\n## Alerting\n\n- In-PWA notifications for errors\n- Optional email/webhook for critical failures\n\n## Dependencies\n\n- team-1v7 (PWA)\n- team-d3n (dispatcher)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-25T07:49:31.024820818Z","created_by":"Christopher Burr","updated_at":"2026-01-25T17:43:40.500452337Z","closed_at":"2026-01-25T17:43:40.500452337Z","close_reason":"Implemented monitoring dashboard with health tracking"}
{"id":"team-8ih","title":"Apply tweakcn theme to dashboard","description":"Apply the custom shadcn theme from tweakcn to the team dashboard.\n\n## Theme Source\n```bash\nbunx shadcn@latest add https://tweakcn.com/r/themes/cmku9c6vf000005kw9d4l6e95\n```\n\n## Tasks\n- [ ] Run the shadcn command to fetch the theme\n- [ ] Review the generated CSS variables\n- [ ] Test in both light and dark modes\n- [ ] Verify all components render correctly with new colors\n- [ ] Check contrast/accessibility of the theme\n\n## Notes\n- This will modify `globals.css` with new color variables\n- May need to adjust some component-specific styles if they conflict\n- Preview the theme at the tweakcn URL before applying","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-25T21:36:25.770053343Z","created_by":"Christopher Burr","updated_at":"2026-01-27T15:28:29.643595Z","closed_at":"2026-01-27T15:28:29.643595Z","close_reason":"Theme applied to dashboard - custom CSS variables in globals.css for both light and dark modes"}
{"id":"team-9z5","title":"Phase 3: Agent Plugins","description":"Create slash commands and subagent definitions for each team member.\n\n## Sub-tasks\n- [ ] Create .claude/commands/team:alice.md slash command\n- [ ] Create .claude/commands/team:bob.md slash command\n- [ ] Create .claude/commands/team:charlie.md slash command\n- [ ] Create .claude/commands/team:standup.md for project lead\n- [ ] Create .claude/agents/alice.md subagent definition\n- [ ] Create .claude/agents/bob.md subagent definition\n- [ ] Create .claude/agents/charlie.md subagent definition\n\n## Acceptance Criteria\n- /alice loads identity, checks messages, shows beads assignments\n- /bob and /charlie work similarly\n- /standup initiates standup orchestration\n- Task tool can spawn agents via subagent definitions","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T05:56:36.80396Z","created_by":"cburr","updated_at":"2026-01-23T06:35:17.934401Z","closed_at":"2026-01-23T06:35:17.934401Z","close_reason":"Closed","dependencies":[{"issue_id":"team-9z5","depends_on_id":"team-cfa","type":"blocks","created_at":"2026-01-23T05:58:35.150101Z","created_by":"cburr"}]}
{"id":"team-bk2","title":"Migrate NextAuth middleware to Next.js 16 proxy convention","description":"Next.js 16 deprecated the middleware file convention in favor of the new 'proxy' approach. Currently NextAuth uses src/middleware.ts which triggers a warning on startup.\n\nSee: https://nextjs.org/docs/messages/middleware-to-proxy\n\nThis is low priority as it's just a warning and doesn't affect functionality. Wait for NextAuth to release guidance on the new pattern before migrating.","status":"closed","priority":4,"issue_type":"task","created_at":"2026-01-25T09:25:52.994145774Z","created_by":"Christopher Burr","updated_at":"2026-01-27T17:54:13.421243Z","closed_at":"2026-01-27T17:54:13.421243Z","close_reason":"Migrated middleware.ts to proxy.ts with named export for Next.js 16 compatibility","labels":["prod-readiness"]}
{"id":"team-bq9","title":"Phase 4: Web UI Dashboard","description":"Build simple web dashboard for team visibility.\n\n## Sub-tasks\n- [ ] Create team-server/public/index.html (single page)\n- [ ] Create team-server/public/app.js (~200 lines vanilla JS)\n- [ ] Create team-server/public/styles.css\n- [ ] Implement Messages tab with thread view\n- [ ] Implement Standups tab with date picker\n- [ ] Implement Status tab showing team activity\n- [ ] Connect WebSocket for real-time updates\n\n## Acceptance Criteria\n- Dashboard loads at localhost:3000\n- Messages display in threaded view\n- Standups show by date\n- Status shows who's working on what\n- Updates appear in real-time via WebSocket","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T05:56:37.908474Z","created_by":"cburr","updated_at":"2026-01-23T06:58:55.457784Z","closed_at":"2026-01-23T06:58:55.457784Z","close_reason":"Closed","dependencies":[{"issue_id":"team-bq9","depends_on_id":"team-cfa","type":"blocks","created_at":"2026-01-23T05:58:36.094444Z","created_by":"cburr"}]}
{"id":"team-cfa","title":"Phase 2: Team Communication Server","description":"Build custom MCP server for team messaging, standups, and status tracking.\n\n## Sub-tasks\n- [ ] Create team-server/package.json with Bun + Hono + better-sqlite3\n- [ ] Implement db.ts with SQLite schema (messages, standups, status tables)\n- [ ] Implement tools.ts with MCP tool definitions\n- [ ] Implement index.ts combining MCP server + HTTP server\n- [ ] Add HTTP endpoints for Web UI (GET /api/messages, /api/standups, /api/status, WS /ws)\n\n## Acceptance Criteria\n- MCP tools work: message_send, message_list, standup_post, status_update\n- HTTP API returns correct data\n- WebSocket broadcasts updates","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-23T05:56:35.619046Z","created_by":"cburr","updated_at":"2026-01-23T06:29:12.734748Z","closed_at":"2026-01-23T06:29:12.734748Z","close_reason":"Closed","dependencies":[{"issue_id":"team-cfa","depends_on_id":"team-6ec","type":"blocks","created_at":"2026-01-23T05:58:32.21462Z","created_by":"cburr"}]}
{"id":"team-cvb","title":"Security audit: rotate secrets and harden env variables","description":"Audit and rotate all secrets exposed in docker-compose.yml and .env files:\n\n- AUTH_SECRET (currently hardcoded)\n- AUTH_PASSWORD (default teamchat2024)\n- CLOUDFLARE_TUNNEL_TOKEN\n- Any other sensitive values\n\nActions:\n- Move secrets to .env file (not committed)\n- Generate new AUTH_SECRET\n- Set strong AUTH_PASSWORD\n- Document required env vars in README\n- Add .env.example with placeholders","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-25T16:14:06.780621334Z","created_by":"Christopher Burr","updated_at":"2026-01-25T16:14:06.780621334Z"}
{"id":"team-d3n","title":"Implement agent auto-trigger on Slack messages","description":"## Summary\n\nWhen a message arrives for an agent, automatically trigger that agent's Claude Code session to check inbox and respond.\n\n## Architecture\n\n```\n[Slack/PWA/CLI] → team.db → Dispatcher → claude --agent \u003cname\u003e --session-id \u003cuuid\u003e\n```\n\n## Approach\n\n1. **Agent files** in `.claude/agents/` define identity, permissions, tools\n2. **Fixed session UUIDs** per agent for continuity\n3. **Dispatcher** watches team.db, triggers on new messages\n\n## Agent file example\n\n`.claude/agents/alice.md`:\n```markdown\n---\nname: alice\ndescription: Philosopher for epistemology and argumentation\nmodel: opus\npermissionMode: bypassPermissions\ntools: Read, Edit, Bash, Grep, Glob, mcp__team__*\n---\nYou are Alice, a philosopher specializing in formal epistemology...\n```\n\n## Trigger command\n\n```bash\nclaude --agent alice \\\n  --session-id $ALICE_SESSION_ID \\\n  -p \"Check inbox and respond\" \\\n  --max-turns 10 \\\n  --max-budget-usd 1.00\n```\n\n## Environment config\n\n```bash\n# .env\nALICE_SESSION_ID=550e8400-e29b-41d4-a716-446655440001\nBOB_SESSION_ID=550e8400-e29b-41d4-a716-446655440002\nCHARLIE_SESSION_ID=550e8400-e29b-41d4-a716-446655440003\n```\n\n## Dispatcher requirements\n\n1. Poll team.db for unread messages (every 5-10s)\n2. Group by agent, trigger once per agent with unreads\n3. Debounce (cooldown per agent, e.g. 30s)\n4. Log trigger history\n5. Handle errors gracefully\n\n## Files to create\n\n- `.claude/agents/alice.md`\n- `.claude/agents/bob.md`\n- `.claude/agents/charlie.md`\n- `team-server/src/dispatcher.ts`","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-24T12:28:51.532758085Z","created_by":"Christopher Burr","updated_at":"2026-01-25T08:09:08.750559963Z","closed_at":"2026-01-25T08:09:08.750559963Z","close_reason":"Implemented dispatcher with polling, debouncing, and CLI integration"}
{"id":"team-d7k","title":"Define agent instructions and reusable skills","description":"## Summary\n\nCreate comprehensive agent.md files and reusable skills so agents understand their architecture and capabilities.\n\n## Agent Files Needed\n\n- `.claude/agents/alice.md` - Philosopher identity + permissions\n- `.claude/agents/bob.md` - Computer scientist identity + permissions\n- `.claude/agents/charlie.md` - Psychologist identity + permissions\n- `.claude/agents/orchestrator.md` - Facilitator role\n\n## Each Agent Must Understand\n\n- Their role and expertise\n- Team structure (who does what)\n- Communication via MCP tools\n- PWA slash commands (`/update`, `/discuss`, etc.)\n- How to delegate via `request_help`\n- When orchestrator manages flow\n- `permissionMode: dontAsk` behavior\n- Their allowed tools whitelist\n\n## Reusable Skills\n\nDefine skills agents can invoke:\n- `check-inbox` - Check and respond to messages\n- `delegate-task` - Request help from another agent\n- `post-update` - Post status update\n- `await-consensus` - Participate in orchestrated discussion\n\n## Dependencies\n\n- team-d3n (dispatcher)\n- team-1v7 (PWA)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T07:33:35.463742694Z","created_by":"Christopher Burr","updated_at":"2026-01-27T18:12:52.016813Z","closed_at":"2026-01-27T18:12:52.016813Z","close_reason":"Core agent files (alice, bob, charlie) complete. Orchestrator split to team-u8w."}
{"id":"team-e5l","title":"Channel membership management","description":"## Overview\nChannels need membership controls for users and agents.\n\n## Data Model\n```typescript\nChannel {\n  id: string\n  name: string\n  project_path: string\n  members: { users: string[], agents: string[] }\n  permissions: { owner: string, admins: string[] }\n  session_ids: { [agent_id]: string }\n}\n```\n\n## UI Requirements\n- 'Manage Channel' modal from sidebar\n- Add/remove users and agents\n- Transfer ownership\n- Delete channel (owner only)\n\n## API Endpoints\n- PATCH /api/channels/:id/members\n- PATCH /api/channels/:id/permissions\n- DELETE /api/channels/:id\n\n## Depends On\n- Multi-user auth\n- Session management","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T07:12:08.045546Z","created_by":"cburr","updated_at":"2026-01-28T07:12:08.045546Z","dependencies":[{"issue_id":"team-e5l","depends_on_id":"team-25t","type":"blocks","created_at":"2026-01-28T07:12:15.788601Z","created_by":"cburr"},{"issue_id":"team-e5l","depends_on_id":"team-4o4","type":"blocks","created_at":"2026-01-28T07:12:15.881958Z","created_by":"cburr"}]}
{"id":"team-h9k","title":"Add POST endpoint for sending messages","description":"Add POST /api/messages endpoint to team-server for sending messages from the PWA.\n\n- Accept { to_agent, content, thread_id? } payload\n- Validate input\n- Store message in database\n- Broadcast via WebSocket to connected clients\n- Return created message\n\nAlso update team-dashboard MessageInput to use the new endpoint.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-25T09:55:57.54584378Z","created_by":"Christopher Burr","updated_at":"2026-01-25T16:57:38.264673467Z","closed_at":"2026-01-25T16:57:38.264673467Z","close_reason":"Implemented POST /api/messages endpoint with validation, WebSocket broadcast, and updated dashboard MessageInput component","labels":["prod-readiness"]}
{"id":"team-jna","title":"Sidebar project switcher","description":"## Overview\nUpdate shadcn sidebar to organize by projects. Users select active project, see relevant channels/agents.\n\n## UI Changes\n- Project dropdown/selector at top of sidebar\n- Channels filtered by current project\n- DMs show agents available in current project context\n- Badge showing team count per project\n\n## State Management\n- Current project stored in user session/localStorage\n- URL structure: /{project_slug}/team, /{project_slug}/dm/alice\n\n## Project Model\n```typescript\nProject {\n  path: string        // 'research/paper_a'\n  name: string\n  teams: string[]     // team IDs assigned to this project\n}\n```\n\n## Depends On\n- Multi-user auth\n- Channel membership","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T07:12:08.625266Z","created_by":"cburr","updated_at":"2026-01-28T07:12:08.625266Z","dependencies":[{"issue_id":"team-jna","depends_on_id":"team-25t","type":"blocks","created_at":"2026-01-28T07:12:15.976324Z","created_by":"cburr"},{"issue_id":"team-jna","depends_on_id":"team-e5l","type":"blocks","created_at":"2026-01-28T07:12:16.070554Z","created_by":"cburr"}]}
{"id":"team-mhu","title":"Complete Slack Integration Setup","description":"## Summary\n\nSlack integration code is complete but requires a publicly accessible URL for Slack Event Subscriptions to work. Continue setup on a machine that can expose the team-server via Tailscale Funnel or similar.\n\n## What's Done\n\n- [x] Unread messages API: GET /api/messages/unread/:agentId\n- [x] Stop hook: .claude/hooks/stop-check-inbox.sh\n- [x] Slack bot module: team-server/src/slack.ts\n- [x] Slack event endpoint: POST /api/slack/events\n- [x] Beads notification endpoint: POST /api/beads/notify\n- [x] Agent onboarding commands updated with inbox check\n- [x] Slack App created: A0AA3AYUB0X (Agentic Assurance Team)\n- [x] Bot Token Scopes configured: chat:write, channels:history, channels:read, app_mentions:read\n- [x] Bot token obtained and stored in environment\n\n## What's Remaining\n\n1. **Expose team-server publicly**\n   - Option A: tailscale funnel 3030\n   - Option B: ngrok http 3030\n\n2. **Configure Slack Event Subscriptions**\n   - URL: https://api.slack.com/apps/A0AA3AYUB0X/event-subscriptions\n   - Enable Events (toggle On)\n   - Set Request URL: https://YOUR-PUBLIC-URL/api/slack/events\n   - Subscribe to bot events: message.channels, app_mention\n   - Save Changes\n\n3. **Create Slack channels** (if not already created)\n   - #team - Broadcasts to all agents\n   - #alice, #bob, #charlie - Direct to each agent\n   - Add the bot to each channel\n\n4. **Test the integration**\n   - Start team-server with SLACK_BOT_TOKEN exported\n   - Should see: [Slack] Bot initialized with token\n   - Post in #alice channel, verify message reaches team.db\n\n## Files Reference\n\n- team-server/src/slack.ts - Slack bot implementation\n- team-server/src/index.ts - API endpoints\n- team-server/SLACK_SETUP.md - Setup documentation\n- .claude/hooks/stop-check-inbox.sh - Stop hook for inbox notifications\n\n## Slack App Details\n\n- App ID: A0AA3AYUB0X\n- Config URL: https://api.slack.com/apps/A0AA3AYUB0X","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:34:50.133895Z","created_by":"cburr","updated_at":"2026-01-26T06:26:29.448429Z","closed_at":"2026-01-24T06:32:21.603712522Z"}
{"id":"team-mxo","title":"Phase 6: Worktree Scripts","description":"Create scripts for git worktree management per agent per issue.\n\n## Sub-tasks\n- [ ] Create scripts/worktree-create.sh\n- [ ] Create scripts/worktree-list.sh\n- [ ] Create scripts/worktree-cleanup.sh\n- [ ] Implement naming convention: {agent}-{slug}-{beads-id}\n- [ ] Configure .worktrees/ location\n\n## Acceptance Criteria\n- ./scripts/worktree-create.sh alice team-001 creates worktree\n- Worktree at .worktrees/alice-*-team-001\n- Branch named alice/team-001\n- List and cleanup scripts work correctly","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T05:56:41.1995Z","created_by":"cburr","updated_at":"2026-01-23T07:10:06.254358Z","closed_at":"2026-01-23T07:10:06.254358Z","close_reason":"Closed","dependencies":[{"issue_id":"team-mxo","depends_on_id":"team-6ec","type":"blocks","created_at":"2026-01-23T05:58:33.799696Z","created_by":"cburr"}]}
{"id":"team-oqm","title":"Agent library + creation wizard","description":"## Overview\nDashboard page to view all agents and create new ones via Admin Agent.\n\n## Agent Library Page (/agents)\n- List all agents with name, avatar, description\n- View system prompt (read-only)\n- 'Create New Agent' button\n\n## Agent Creation Flow\n1. User clicks 'Create New Agent'\n2. Opens chat with Admin Agent (special system prompt)\n3. Admin Agent uses AskUserQuestion to gather:\n   - Agent name, role, expertise\n   - System prompt preferences\n   - Avatar/color selection\n4. Admin Agent creates files:\n   - .claude/agents/{name}/agent.md\n   - .claude/agents/{name}/memory/\n\n## Admin Agent\n- System prompt in .claude/agents/admin-agent/agent.md\n- Has file write permissions for agent creation\n- Validates agent names (no duplicates, valid chars)\n\n## Data Model\n```typescript\nAgent {\n  id: string\n  name: string\n  display_name: string\n  system_prompt_path: string\n  memory_path: string\n  avatar: string\n  color: string\n  created_by: string\n  created_at: Date\n}\n```","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-28T07:12:09.213519Z","created_by":"cburr","updated_at":"2026-01-28T07:12:09.213519Z"}
{"id":"team-p36","title":"Dockerfile for team-dashboard (Next.js)","description":"Create production Dockerfile for team-dashboard.\n\n- Use official Node/Bun image\n- Multi-stage build (deps → build → runtime)\n- Next.js standalone output mode\n- Health check endpoint","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-25T09:54:11.497010646Z","created_by":"Christopher Burr","updated_at":"2026-01-25T14:56:04.892439227Z","closed_at":"2026-01-25T14:56:04.892439227Z","close_reason":"Created Dockerfile with multi-stage build, standalone output, non-root user","labels":["prod-readiness"]}
{"id":"team-tv3","title":"Migrate dashboard from radix-based shadcn to baseui-based shadcn","description":"Migrate all shadcn/ui components in the team dashboard from radix primitives to baseui primitives.\n\n## Background\nThe current dashboard uses shadcn/ui components built on radix primitives. We want to migrate to baseui-based implementations for consistency and to leverage baseui's design system.\n\n## Scope\n- Identify all shadcn components currently in use\n- Replace radix-based implementations with baseui equivalents\n- Update any custom component styling as needed\n- Ensure feature parity after migration\n\n## Tasks\n- [ ] Audit current shadcn component usage in team-dashboard/\n- [ ] Document radix → baseui component mapping\n- [ ] Migrate components incrementally (can be done component-by-component)\n- [ ] Update imports and dependencies\n- [ ] Remove unused radix packages\n- [ ] Test all migrated components\n- [ ] Update package.json dependencies\n\n## Dependencies\n- Should reference the baseui/shadcn skills issue for guidance during migration\n\n## Notes\n- Prefer incremental migration to avoid breaking the entire UI at once\n- Each component migration should be testable independently","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-27T07:20:50.439458Z","created_by":"cburr","updated_at":"2026-01-27T11:23:53.375056Z","closed_at":"2026-01-27T11:23:53.375056Z","close_reason":"Migration complete: All 7 Radix packages replaced with Base UI, 34 packages removed","dependencies":[{"issue_id":"team-tv3","depends_on_id":"team-xas","type":"blocks","created_at":"2026-01-27T07:20:55.009222Z","created_by":"cburr"}]}
{"id":"team-u8w","title":"Define orchestrator agent identity and behavior","description":"Create .claude/agents/orchestrator.md to define the orchestrator/facilitator agent.\n\n## Open Questions\n- What is the orchestrator's role vs individual agents?\n- Does it manage flow, or just facilitate?\n- When does it intervene vs let agents self-coordinate?\n- How does it relate to the dispatcher?\n- Should it have special permissions or tools?\n\n## Deliverable\nAgent definition file at .claude/agents/orchestrator.md\n\n## Context\nSplit from team-d7k. The other agent files (alice, bob, charlie) are complete.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-27T18:12:19.115492Z","created_by":"cburr","updated_at":"2026-01-27T18:12:19.115492Z","labels":["exploratory"]}
{"id":"team-v4s","title":"Production Readiness: Docker + Traefik Deployment","description":"Prepare team-dashboard and team-server for production deployment with proper containerization and reverse proxy setup.\n\n## Goals\n- Containerize both services (team-server, team-dashboard)\n- Set up Traefik reverse proxy with WebSocket support\n- Enable full functionality (message posting, real-time updates)\n- Automatic HTTPS via Let's Encrypt\n\n## Why\nTailscale Funnel works for testing but has limitations:\n- Next.js rewrites don't handle WebSocket upgrades\n- No path-based routing to multiple backends\n- Not suitable for production deployment\n\n## Success Criteria\n- Both services running in Docker containers\n- Traefik routing: / → frontend, /api/* + /ws → backend\n- WebSocket connections working through proxy\n- Message posting functional\n- HTTPS with valid certificates","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-25T09:51:50.252608107Z","created_by":"Christopher Burr","updated_at":"2026-01-25T16:28:22.751629804Z","closed_at":"2026-01-25T16:28:22.751629804Z","close_reason":"Production deployment complete: Docker + Traefik + Cloudflare Tunnel at https://chat.chrisdburr.com","labels":["prod-readiness"]}
{"id":"team-wxw","title":"Phase 5: Standup Orchestration","description":"Implement /standup command that orchestrates agent updates via CC headless mode.\n\n## Sub-tasks\n- [ ] Create team-server/src/orchestrator.ts\n- [ ] Implement session ID generation\n- [ ] Implement CC headless spawning (claude -p \"...\" --output-format stream-json)\n- [ ] Pass context to each agent (previous updates, identity, beads)\n- [ ] Capture responses and save to standups table\n- [ ] Stream updates to Web UI via WebSocket\n- [ ] Support project lead interjection between agents\n- [ ] Generate summary with action items\n\n## Acceptance Criteria\n- /standup spawns Alice → Bob → Charlie sequentially\n- Each agent sees previous updates\n- Transcript saved to database\n- Updates stream to Web UI in real-time\n- Project lead can interject","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-23T05:56:39.406015Z","created_by":"cburr","updated_at":"2026-01-23T07:05:47.671952Z","closed_at":"2026-01-23T07:05:47.671952Z","close_reason":"Closed","dependencies":[{"issue_id":"team-wxw","depends_on_id":"team-bq9","type":"blocks","created_at":"2026-01-23T05:58:38.380771Z","created_by":"cburr"},{"issue_id":"team-wxw","depends_on_id":"team-9z5","type":"blocks","created_at":"2026-01-23T05:58:49.662712Z","created_by":"cburr"}]}
{"id":"team-xas","title":"Create Claude Code skills for baseui/shadcn component development","description":"Create reusable Claude Code skills that guide agents when working with baseui-based shadcn components in the web app.\n\n## Goals\n- Document best practices for using shadcn/ui with baseui (instead of radix)\n- Create skills that agents can invoke when building/modifying UI components\n- Ensure consistent patterns across the codebase\n\n## Tasks\n- [ ] Research baseui + shadcn integration patterns and best practices\n- [ ] Document component migration patterns (radix → baseui equivalents)\n- [ ] Create skill file(s) in .claude/skills/ or appropriate location\n- [ ] Include examples of common component patterns\n- [ ] Document any gotchas or differences from radix-based shadcn\n\n## Notes\n- Skills should be automatically available to agents working on the dashboard\n- Consider creating component-specific guidance (forms, modals, dropdowns, etc.)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-27T07:20:49.922863Z","created_by":"cburr","updated_at":"2026-01-27T08:16:18.857226Z","closed_at":"2026-01-27T08:16:18.857226Z","close_reason":"Created 14 skill files documenting baseui-shadcn patterns: SKILL.md (entry point), baseui/ (overview, setup, migration), components/ (index, forms, overlays, navigation, feedback), type-safety/patterns.md, animations/ (tw-animate, motion), tailwind/patterns.md, and blocks/patterns.md. Total ~3000 lines of documentation."}
{"id":"team-zyp","title":"Project file browser","description":"## Overview\nUsers can view and download files created by agents within a project.\n\n## UI Components\n- File tree view for project directory\n- File preview (text files, markdown, images)\n- Download button per file\n- Future: simple text editor for edits\n\n## API Endpoints\n- GET /api/projects/:path/files - list directory\n- GET /api/projects/:path/files/:filepath - get file content\n- GET /api/projects/:path/files/:filepath/download - download file\n\n## Security\n- Restrict to projects/ directory only\n- No parent directory traversal (..)\n- Respect user's project access permissions\n\n## Future Enhancement\n- Monaco editor integration for in-browser editing\n- File upload capability\n- Git integration (show file history)","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-28T07:12:10.286071Z","created_by":"cburr","updated_at":"2026-01-28T07:12:10.286071Z"}
